![20200915-廖振邦-前端安全常用攻防手段演练](https://i.loli.net/2021/06/16/ozMX7OwiTVvgHe5.png)

## 1.sql注入

即把sql命令注入到表单或者url上，使得服务器执行恶意的sql命令

解决办法：

1.用户输入进行正则校验

2.机密文件密文存储

## 2.xss攻击

cross-site scripting  跨站攻击 攻击者往`Web`页面里插入**恶意`html`标签或者`javascript`代码(**比如在input框里面插入)

比如：攻击者在论坛中放一个看似安全的链接，骗取用户点击后，窃取`cookie`中的用户私密信息；或者攻击者在论坛中加一个恶意表单，当用户提交表单的时候，却把信息传送到攻击者的服务器中，而不是用户原本以为的信任站点

**防御**

1.首先代码里对用**户输入的地方**和变量都需要仔细检查长度和对`”<”,”>”,”;”,”’”`等字符做过滤；其次任何内容写到页面之前都必须加以encode，避免不小心把`html tag` 弄出来。监测标签等字符串

2.x-xss-protection 的http响应头防止跨站脚本

3.httpnly防止获取cookie

## 3.csrf攻击

cross-site-request-forgery 跨站请求伪造 即拿到cookie去伪造原网站的请求

<img src="https://i.loli.net/2021/06/16/oDZrIzcgaytSjJl.png" alt="image-20210616150641950" style="zoom:150%;" />

**防御**

1.验证码人机验证

2.服务器返回一个动态内容 只有前端提交该正确的动态内容才行

## 4.XSS与CSRF有什么区别吗？

- `XSS`是**获取信息**，不需要提前知道其他用户页面的代码和数据包。`CSRF`是**代替用户完成指定的动作**，需要知道其他用户页面的代码和数据包。要完成一次`CSRF`攻击，受害者必须依次完成两个步骤
- 登录受信任网站`A`，并在本地生成`Cookie`
- 在不登出`A`的情况下，访问危险网站`B`

## 5.点击劫持

攻击者将攻击的网页通过iframe嵌入到自己的网页中，将iframe设置为透明，r然后用一个按钮引诱用户点击，其实点击啦隐藏的真实网站发起请求，比如真实网站是一些交易 那么用户就进行啦一些交易，其实用户不知道点击了隐藏的真实网站

![image](https://i.loli.net/2021/06/16/UneRp9huGJKIDdy.png)

**防御**

1.x-frame-options http响应头 控制该页面不能以iframe形式在其他网站

2.js判断顶层视口域名是否和本页面域名一致,不等就重定向

```js
if (top.location.hostname !== self.location.hostname) {
    alert("您正在访问不安全的页面，即将跳转到安全页面！");
    top.location.href = self.location.href;
}
```

5.ddos distribute denial of service

分佈式拒絕服務攻擊,指處於不同位置的多個攻擊者同時向一個或數個目標發動攻擊，手段是让服务器瘫痪

1.二次一直不握手，

2.发送大量http请求

**防御**

1.备选网站

## 6.dns劫持

即黑客搭建**内网dns**,内网dns将域名解析成黑客的服务器,就可以解析密码等

**防御** 采用https

## 7.os注入

和sql注入类似 不过注入的目标不是sql而是os操作系统 比如现在有个系统 让你输入path 然后系统内部代码执行git clone 就可以下载这个仓库，加入黑客输入path && rm rf /* 那么这个库就被删除了

防御 也是正则匹配

## 8.http劫持

　HTTP 劫持的原理就是在服务器和用户之间的信息传输之中添油加醋，这是由于信息没有被加密而造成的。用户请求了网站服务器，服务器返还网页给用户，在传输过程中就给了他人加料的机会。就算DNS服务器可靠，也无法防止HTTP劫持

般来说HTTP劫持主要通过下面几个步骤来做：标识HTTP连接。在天上飞的很多连接中，有许多种协议，第一步做的就是在TCP连接中，找出应用层采用了HTTP协议的连接，进行标识；篡改HTTP响应体，可以通过网关来获取数据包进行内容的篡改；抢先回包，将篡改后的数据包抢先正常站点返回的数据包先到达用户侧，这样后面正常的数据包在到达之后会被直接丢弃。

即就是在传输途中劫持到内容 然后**修改内容**

防御 升级htttps